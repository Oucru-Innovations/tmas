<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tmas.analysis &mdash; tmas  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=fd3f3429" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="tmas.config" href="../config/index.html" />
    <link rel="prev" title="tmas.models.yolo" href="../models/yolo/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            tmas
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../conduct.html">Code of Conduct</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">tmas</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../index.html#subpackages">Subpackages</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">tmas.analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../config/index.html">tmas.config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../detection/index.html">tmas.detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../preprocessing/index.html">tmas.preprocessing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../tmas/index.html">tmas.tmas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../utils/index.html">tmas.utils</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">tmas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">API Reference</a></li>
          <li class="breadcrumb-item"><a href="../index.html">tmas</a></li>
      <li class="breadcrumb-item active">tmas.analysis</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/autoapi/tmas/analysis/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-tmas.analysis">
<span id="tmas-analysis"></span><h1>tmas.analysis<a class="headerlink" href="#module-tmas.analysis" title="Link to this heading"></a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="tmas.analysis.build_drug_info_dict">
<span class="sig-prename descclassname"><span class="pre">tmas.analysis.</span></span><span class="sig-name descname"><span class="pre">build_drug_info_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plate_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/tmas/analysis.html#build_drug_info_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tmas.analysis.build_drug_info_dict" title="Link to this definition"></a></dt>
<dd><p>Build a dictionary containing drug information based on plate data.</p>
<p>This function processes the <cite>plate_info</cite> dictionary. It returns a
dictionary where each drug is a key, and the corresponding value is another
dictionary containing sorted lists of dilutions and concentrations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>plate_info</strong> (<em>dict</em>) – A dictionary containing the following keys:
- “drug_matrix”:
- “dilution_matrix”:
- “conc_matrix”:</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary where each key is a drug name, and the value is another dictionary
containing:
- “dilutions”
- “concentrations”</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If any of the expected keys (“drug_matrix”, “dilution_matrix”, “conc_matrix”)
are missing from <cite>plate_info</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tmas.analysis.visualize_growth_matrix">
<span class="sig-prename descclassname"><span class="pre">tmas.analysis.</span></span><span class="sig-name descname"><span class="pre">visualize_growth_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">growth_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drug_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drug_results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/tmas/analysis.html#visualize_growth_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tmas.analysis.visualize_growth_matrix" title="Link to this definition"></a></dt>
<dd><p>Visualize the growth matrix on a drug susceptibility testing plate image.</p>
<p>This function overlays the growth detection information on an image of a microtitre plate,
highlighting wells with detected growth, and annotating the wells with the corresponding drug
names and concentrations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_name</strong> (<em>str</em>) – The base name of the image.</p></li>
<li><p><strong>img</strong> (<em>numpy.ndarray</em>) – The image of the plate. If the image is in BGR format, it will be converted to RGB.</p></li>
<li><p><strong>growth_matrix</strong> (<em>list</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A matrix indicating the growth status of each well.</p></li>
<li><p><strong>drug_info</strong> (<em>dict</em>) – A dictionary containing drug information, including dilutions and concentrations.</p></li>
<li><p><strong>drug_results</strong> (<em>dict</em>) – A dictionary containing the results of the drug susceptibility test, including MIC values.</p></li>
<li><p><strong>plate_info</strong> (<em>dict</em>) – A dictionary containing plate-specific information, including drug and concentration matrices.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tmas.analysis.analyze_growth_matrix">
<span class="sig-prename descclassname"><span class="pre">tmas.analysis.</span></span><span class="sig-name descname"><span class="pre">analyze_growth_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">growth_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_design</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_design_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/tmas/analysis.html#analyze_growth_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tmas.analysis.analyze_growth_matrix" title="Link to this definition"></a></dt>
<dd><p>Analyze the growth matrix and determine the Minimum Inhibitory Concentration (MIC) for each drug.</p>
<p>This function processes the growth matrix of a microtitre plate, compares it with the plate design,
and determines the MIC values for each drug tested. The function also visualizes the results
by overlaying growth detection on the image of the plate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_name</strong> (<em>str</em>) – The name of the image file used for labeling and saving results.</p></li>
<li><p><strong>image</strong> (<em>numpy.ndarray</em>) – The image data of the plate.</p></li>
<li><p><strong>growth_matrix</strong> (<em>list</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A matrix indicating the growth status of each well.</p></li>
<li><p><strong>plate_design</strong> (<em>dict</em>) – A dictionary containing the design of the plate, including drug and dilution matrices.</p></li>
<li><p><strong>plate_design_type</strong> (<em>str</em>) – A string representing the type of plate design being used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the growth results and MIC values for each drug.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tmas.analysis.extract_image_name_from_path">
<span class="sig-prename descclassname"><span class="pre">tmas.analysis.</span></span><span class="sig-name descname"><span class="pre">extract_image_name_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/tmas/analysis.html#extract_image_name_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tmas.analysis.extract_image_name_from_path" title="Link to this definition"></a></dt>
<dd><p>Extract the image name from a file path.</p>
<p>This function takes a file path to an image and extracts the base name of the file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image_path</strong> (<em>str</em>) – The full file path to the image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The base name of the image file without the extension.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tmas.analysis.extract_plate_design_type_from_image_name">
<span class="sig-prename descclassname"><span class="pre">tmas.analysis.</span></span><span class="sig-name descname"><span class="pre">extract_plate_design_type_from_image_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/tmas/analysis.html#extract_plate_design_type_from_image_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tmas.analysis.extract_plate_design_type_from_image_name" title="Link to this definition"></a></dt>
<dd><p>Extract the plate design type from an image name.</p>
<p>Assumes that the plate design type is always the 6th element in a hyphen-separated image name string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image_name</strong> (<em>str</em>) – The image name string, typically in a hyphen-separated format.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The plate design type extracted from the image name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tmas.analysis.analyze_and_extract_mic">
<span class="sig-prename descclassname"><span class="pre">tmas.analysis.</span></span><span class="sig-name descname"><span class="pre">analyze_and_extract_mic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_design</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/tmas/analysis.html#analyze_and_extract_mic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tmas.analysis.analyze_and_extract_mic" title="Link to this definition"></a></dt>
<dd><p>Analyze growth matrix and extract Minimum Inhibitory Concentration (MIC) results.</p>
<p>This function takes an image path, image data, detection results, and a dictionary containing plate designs.
It extracts the image name and plate design type from the image path, and then uses these to analyze the
growth matrix and determine MIC values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_path</strong> (<em>str</em>) – The full file path to the image.</p></li>
<li><p><strong>image</strong> (<em>numpy.ndarray</em>) – The image data, typically as a numpy array.</p></li>
<li><p><strong>detections</strong> (<em>Any</em>) – Detection results for the growth matrix.</p></li>
<li><p><strong>plate_design</strong> (<em>dict</em>) – A dictionary containing different plate designs indexed by plate design type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing drug results, including MIC values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../models/yolo/index.html" class="btn btn-neutral float-left" title="tmas.models.yolo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../config/index.html" class="btn btn-neutral float-right" title="tmas.config" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, RMIT 2OO2 TEAM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>